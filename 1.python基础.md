# Python 基础

## 简介

Python 是一种解释型、面向对象、动态数据类型的高级编程语言。

Python 是一种开源的、跨平台的、高级的、动态的语言。

### 安装

```bash
# 检查python3的版本
python3 --version # Python 3.10.12

# 安装python3
sudo apt install python3
```
### 第一个 python 程序

```bash
# 进入 python3 命令行
python3

# 第一个python程序
>>> print('hello world')
```

### python 解释器

Python 解释器是 Python 编程语言的执行环境：`python.exe` 

1. 翻译代码 `=》 ` 二进制文件

2. 交给系统去运行

使用解释器运行 `.py` 文件 `python3 test.py`

## 基础语法

### 1. 六种常见字面量类型

| 类型          | 描述|
|:--------------|:---|
| Number        | int <br/> float <br/> complex <br/> bool |
| String        | 文本 |
| List          | 有序的可变序列 |
| Tuple         | 有序的不可变序列 |
| Set           | 无序不重复集合 |
| Dictionary    | 无序key-value集合 |


```python
# test2.py

666
13.14
"黑马程序员"

print(666)
print(13.14)
print("黑马程序员")
```

### 2. 注释

```python
'''
多行注释
'''

"""
多行注释
"""

# 单行注释
```

### 3. 变量

变量的定义格式: `变量名称 = 变量值`

标识符是用来标识变量、函数、类、模块等名称的字母数字组合。

- 第一个字符必须是字母或下划线
- 其他字符可以是字母、数字或下划线
- 大小写敏感
- 不能使用关键字

关键字

```python
and       del       from      not       while
as        elif      global    or        with
assert    else      if        pass      yield
break     except    import    print
class     exec      in        raise
continue  finally   is        return
def       for       lambda    try
```

### 4. 数据结构

#### 4.1 查看数据类型

```python
# 查看数据类型
type(变量)

print(type(123)) # <class 'int'>
print(type(12.34)) # <class 'float'>
print(type('hello')) # <class'str'>
print(type(True)) # <class 'bool'>
print(type(None)) # <class 'NoneType'>
print(type(print)) # <class 'builtin_function_or_method'>

a=123
print(type(a)) # <class 'int'>
```

#### 4.2 类型转换

```python
# 类型转换
int(x) # 将x转换为整数
float(x) # 将x转换为浮点数
str(x) # 将x转换为字符串
bool(x) # 将x转换为布尔值
```

#### 4.3 运算符

| 运算符 | 描述 | 实例 |
|:-------|:-----|:-----|
| `+`    | 加法 | `2 + 3` 输出 `5` |
| `-`    | 减法 | `2 - 3` 输出 `-1` |
| `*`    | 乘法 | `2 * 3` 输出 `6` |
| `/`    | 除法 | `3 / 2` 输出 `1.5` |
| `//`   | 整除 | `3 // 2` 输出 `1` |
| `%`    | 取模 | `3 % 2` 输出 `1` |
| `**`   | 幂 | `2 ** 3` 输出 `8` |
| `=`    | 赋值 | `a = 2` |
| `+=`   | 增量赋值 | `a += 2` 等价于 `a = a + 2` |
| `-=`   | 减量赋值 | `a -= 2` 等价于 `a = a - 2` |
| `*=`   | 乘量赋值 | `a *= 2` 等价于 `a = a * 2` |
| `/=`   | 除量赋值 | `a /= 2` 等价于 `a = a / 2` |
| `//=`  | 整除量赋值 | `a //= 2` 等价于 `a = a // 2` |
| `%=`   | 取模量赋值 | `a %= 2` 等价于 `a = a % 2` |
| `**=`  | 幂量赋值 | `a **= 2` 等价于 `a = a ** 2` |
| `==`   | 等于 | `2 == 2` 输出 `True` |
| `!=`   | 不等于 | `2!= 3` 输出 `True` |
| `<`    | 小于 | `2 < 3` 输出 `True` |
| `>`    | 大于 | `3 > 2` 输出 `True` |
| `<=`   | 小于等于 | `2 <= 2` 输出 `True` |
| `>=`   | 大于等于 | `3 >= 2` 输出 `True` |
| `is`   | 身份运算符 | `a is b` 输出 `True` |
| `is not` | 非身份运算符 | `a is not b` 输出 `True` |
| `in`   | 成员运算符 | `a in b` 输出 `True` |
| `not in` | 非成员运算符 | `a not in b` 输出 `True` |
| `and`  | 逻辑与 | `True and True` 输出 `True` |
| `or`   | 逻辑或 | `True or False` 输出 `True` |
| `not`  | 逻辑非 | `not True` 输出 `False` |

#### 4.4 字符串的三种格式

- 单引号 `'` (单行字符串)
- 双引号 `"` (单行字符串)
- 三引号 `'''` 或 `"""` (多行字符串)

#### 4.5 字符串的拼接

 字符串的拼接有三种方式

```python
# 字符串的拼接
str1 = 'hello'
str2 = 'world'

# 方式1
str3 = str1 + str2
print(str3) # output: helloworld

# 方式2 占位符
# %s 代表字符串或要转化成字符串的变量/值，
# %d 代表整数或要转化成整数的变量/值
# %f 代表浮点数或要转化成浮点数的变量/值
message = 'Hello %s, how are you?' % 'yanbeirong'
print(message) # output: Hello yanbeirong, how are you?

# 多个占位符
str3 = '%s %s' % (str1, str2)
print(str3) # output: hello world

# 方式3
str3 = '{}{}'.format(str1, str2)
print(str3) # output: helloworld

# 方式4
str3 = f'{str1} {str2}' # f 就是 format 的缩写
print(str3) # output: helloworld
```

#### 4.6 字符串的格式化

##### 4.6.1 字符串的格式化符号

| 符号 | 描述 |
|:-----|:-----|
| `%s` | 格式化字符串 |
| `%d` | 格式化整数 |
| `%f` | 格式化浮点数 |
| `%x` | 格式化十六进制整数 |
| `%o` | 格式化八进制整数 |
| `%e` | 格式化科学计数法 |
| `%g` | 格式化通用浮点数 |
| `%c` | 格式化字符 |
| `%%` | 格式化百分号 |

##### 4.6.2 字符串的格式化宽度和精度

我们可以使用 `m.n` 来指定字符串的宽度和精度。

- `m` 控制宽度，字符串的最小宽度为 `m`，如果字符串的长度小于 `m`，则在左侧填充空格。
- `.n` 控制精度，小数点后保留 `n` 位，如果 `n` 为 `0`，则省略小数点及后面的位数。

```python
# 字符串的格式化宽度和精度
num = 3.1415926

# 方式1
str1 = '%.2f' % num
print(str1) # output: 3.14


# 方式2
str2 = '{:.2f}'.format(num)
print(str2) # output: 3.14  


# 方式3 f{变量名:宽度.精度f}
str3 = f'{num:.2f}'
print(str3) # output: 3.14

name = "Yanbeirong"
message = f"Hello, {name}!"
print(message) # output: Hello, Yanbeirong!
```
#### 4.7 表达式的格式化

表达式是指由具有明确执行结果的运算符和操作数构成的序列。

```python
# 表达式的格式化
num1 = 10
num2 = 3

# 方式1
result = '%d + %d = %d' % (num1, num2, num1 + num2)
print(result) # output: 10 + 3 = 13


# 方式2
result = '{} + {} = {}'.format(num1, num2, num1 + num2)
print(result) # output: 10 + 3 = 13


# 方式3
result = f'{num1} + {num2} = {num1 + num2}'
print(result) # output: 10 + 3 = 13

```
##### 4.7.1 练习

```python
name = '公司名' # 公司名
stock_price = 19.99 # 股票价格
stock_code = '000001' # 股票代码
stock_price_daily_growth_factor = 0.2 # 日增长率
growth_days = 7 # 增长天数

finally_stock_price = f"经过 {growth_days} 后，
股价将达到{(stock_price * (1 + stock_price_daily_growth_factor) 
** growth_days):.2f}元。"

print(finally_stock_price) # output: 经过 7 后，股价将达到23.99元。
```

#### 4.8 数据输入

```python
# 标准输入
name = input('提示输入:\n')
print(f'你输入的名字是：{name}')

age = input('请输入你的年龄:')
print(f'你的年两的类型是{type(age)}') # output: <class'str'>
```
### 5. 布尔类型和比较运算符

布尔类型是数字类型的子类型，只有两个值：`True`(本质上是1) 和 `False` (本质上是0)，可以进行逻辑运算。

```python
# 布尔类型
print(True) # output: True
print(False) # output: False

# 布尔运算符
print(True and True) # output: True
print(True and False) # output: False
print(False and True) # output: False
print(False and False) # output: False

print(True or True) # output: True
print(True or False) # output: True
print(False or True) # output: True
print(False or False) # output: False

print(not True) # output: False
print(not False) # output: True

# 比较运算符
print(1 == 1) # output: True
print(1 == 2) # output: False

print(1!= 1) # output: False
print(1!= 2) # output: True

print(1 < 2) # output: True
print(2 < 1) # output: False

print(1 > 2) # output: False
print(2 > 1) # output: True

print(1 <= 2) # output: True
print(2 <= 1) # output: False

print(1 >= 2) # output: False
print(2 >= 1) # output: True
```

### 6. 条件语句

条件语句是指根据条件执行相应的语句，根据条件的结果，可以进行分支选择。

```python
# 条件语句
num = 10

if num > 0:
    print('正数')
elif num < 0:
    print('负数')
else:
    print('零')

if num % 2 == 0:
    print('偶数')
else:
    print('奇数')

# 嵌套条件语句
num1 = 10
num2 = 5

if num1 > num2:
    if num1 % 2 == 0:
        print('num1 大于 num2 且为偶数')
    else:
        print('num1 大于 num2 且为奇数')
else:
    if num2 % 2 == 0:
        print('num2 大于 num1 且为偶数')
    else:
        print('num2 大于 num1 且为奇数')
```
### 7. 循环语句

for 循环可以遍历列表、元组、字符串、字典等数据结构，语法格式如下：

```python
for 变量(或临时变量) in 数据结构(数据集):
    语句
```

while 循环可以根据条件判断循环是否继续，语法格式如下：

```python
while 条件:
    语句
```

```python
# 练习 猜猜随机数
import random

random_num = random.randint(1, 100)

while True:
    guess_num = int(input('请输入你猜的数字：'))
    if guess_num == random_num:
        print('恭喜你猜对了！')
        break
    elif guess_num < random_num:
        print('猜的数字小了，再试试吧！')
    else:
        print('猜的数字大了，再试试吧！')
```
```python
# 练习 乘法口诀表
i = 1
while i < 10:
    j = 1
    while j <= i:
        # 输出到控制台，end='' 表示不换行
        print(f'{i}*{j}={i*j}\t', end='')
        j += 1
    i += 1
    print() # 输出换行

while i in range(1, 10):
    while j in range(1, i+1):
        print(f'{i}*{j}={i*j}', end='\t')
    print()

for i in range(1, 10): # [1~10)
    for j in range(1, i+1):
        print(f'{i}*{j}={i*j}', end='\t')
    print()

# 练习 for 循环
name = 'yanbeirong'
for letter in name:
    print(letter, end='')
print()

# 练习 计算字符串中 a 的个数
name=input("What is your name? ")
count=0
for i in name:
    if i == 'a':
        count+=1
print("Your name has", count, "a's in it.")
```
#### range 函数

1. `range(num)` 函数可以生成一个从 0 到 num-1 的整数序列。
2. `range(start, stop)` 函数可以生成一个从 start 到 stop-1 的整数序列。
3. `range(start, stop, step)` 函数可以生成一个从 start 到 stop-1 步长为 step 的整数序列。

```python
for i in range(0,100,2):
    print(i,end=' ')
print()

stop = input("请输入一个结束数字: ")
count = 0
for i in range(1, int(stop)+1):
    if i%2 == 0:
        count += 1
print("偶数的个数为:", count)
```
#### 变量的作用域


> 在大多数现代编程语言中，`for` 循环中声明的临时变量仅在循环体内部是可见的，即它们的作用域被限制在循环体内。循环结束后，这些变量通常就不再存在，或者不能被循环外的代码访问。这样做的好处是可以防止变量名污染外部作用域，并且可以避免潜在的变量名冲突。

然而，Python中的for循环不会创建新的作用域。在Python中，**作用域是按函数、类、模块等定义的，而并非由控制流语句（如for循环、if语句等）创建**。这意味着在for循环内部声明或修改的变量，在循环外部也是可见且可访问的。

#### 循环中断

在Python中，`break` 语句可以用来中断循环，`continue` 语句可以用来跳过当前的迭代。

```python
# 循环中断
for i in range(1, 10):
    if i == 5:
        break
    print(i, end=' ')
print()


for i in range(1, 10):
    if i == 5:
        continue
    print(i, end=' ')
print()
```

```python
# 练习发工资：
# 如果绩效分为5分以下，则不发放工资；
# 如果绩效分为5分到10分，则发放1000元工资；
import random

amount = 10000

for i in range(1, 21):
    if amount <= 0:
        print("余额不足，活动结束！")
        break
    j = random.randint(1, 11)
    if j < 5:
        print(f"您的绩效分为{j}，不足5分，请继续努力！")
    else:
        amount -= 1000
        print(f"恭喜您，您是第{i}位员工，您的绩效分数为{j}，您获得了1000元工资！")
print(f"本次活动共发放{10000 -amount}元工资,还剩{amount}元未发放！")
```